"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[715],{5754:function(n,e,t){t.d(e,{Z:function(){return h}});var r,o,a=t(168),i=t(501),c=t(6444),u=(c.ZP.h1(r||(r=(0,a.Z)(["\nmargin-bottom: 15px;\n"]))),(0,c.ZP)(i.OL)(o||(o=(0,a.Z)(["\nposition: relative;\n  display: inline-flex;\n  align-items: flex-end;\n  gap: ","px;\n  text-decoration: none;\n  color: ",";\n  font-weight: ",";\n  transition: color 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  padding: ","px 0;\n\n  :hover,\n  :focus-visible {\n    color: ",";\n    \n   ::after {\n    transform: scale(1);\n  }\n  }\n\n  ::after {\n    content: '';\n    position: absolute;\n    bottom: ","px;\n    left: 32px;\n    display: block;\n    background-color: ",";\n    height: 2px;\n    width: calc(100% - 32px);\n    transform: scale(0);\n    transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  }\n"])),(function(n){return n.theme.space[3]}),(function(n){return n.theme.colors.text}),(function(n){return n.theme.fontWeights.bold}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.colors.accent}),(function(n){return n.theme.space[3]}),(function(n){return n.theme.colors.accent}))),s=t(8014),f=t(6871),l=t(184),h=function(n){var e=n.movie,t=e.id,r=e.title,o=(0,f.TH)();return(0,l.jsxs)(u,{to:"/".concat("goit-react-hw-05-movies","/movies/").concat(t),state:o,children:[(0,l.jsx)(s.tsh,{size:"24"}),r||"No name film"]},t)}},6715:function(n,e,t){t.r(e),t.d(e,{default:function(){return k}});var r,o,a,i=t(2982),c=t(5861),u=t(885),s=t(7757),f=t.n(s),l=t(2791),h=t(7596),p=t(4834),m=t(9126),d=t(168),v=t(6444),g=v.ZP.form(r||(r=(0,d.Z)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border: ",";\n  border-radius: ",";\n  border-color: ",";\n  overflow: hidden;\n"])),(function(n){return n.theme.borders.normal}),(function(n){return n.theme.radii.lg}),(function(n){return n.theme.colors.primary})),x=v.ZP.input(o||(o=(0,d.Z)(["\n  display: inline-block;\n  height: 100%;\n  width: 100%;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: 10px;\n  padding-right: 4px;\n\n  ::placeholder {\n  font: inherit;\n  font-size: 18px;\n}\n"]))),y=v.ZP.button(a||(a=(0,d.Z)(["\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n  background-color: ",";\n  color: ",";\n\n  :hover,\n  :focus {\n  opacity: 1;\n  }\n"])),(function(n){return n.theme.colors.primary}),(function(n){return n.theme.colors.white})),b=t(184),Z=function(n){var e=n.value,t=n.onChange,r=n.onFormSubmit;return(0,b.jsxs)(g,{autoComplete:"off",onSubmit:function(n){n.preventDefault();var e=n.target.elements.searchQuery.value;""===e.trim()&&h.Am.warning("Enter search query!"),r(e)},children:[(0,b.jsx)(y,{type:"submit",children:(0,b.jsx)(m.dVI,{"aria-label":"Search"})}),(0,b.jsx)(x,{id:"searchQuery",type:"text",name:"searchQuery",value:e,placeholder:"Search movie",onChange:function(n){return t(n.target.value)},autoFocus:!0})]})},w=t(5754),_=t(3614),j=t(2606),P=t(501),k=function(){var n=(0,P.lr)(),e=(0,u.Z)(n,2),t=e[0],r=e[1],o=t.get("query")||"",a=(0,l.useState)(o),s=(0,u.Z)(a,2),m=s[0],d=s[1],v=(0,l.useState)([]),g=(0,u.Z)(v,2),x=g[0],y=g[1],k=(0,l.useState)(1),S=(0,u.Z)(k,2),R=S[0],I=S[1],L=(0,l.useState)(!1),U=(0,u.Z)(L,2),C=U[0],z=U[1];(0,l.useEffect)((function(){I(1),y([])}),[m,r]),(0,l.useEffect)((function(){var n=function(){var n=(0,c.Z)(f().mark((function n(){var e;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,j.Z.getMoviesBySearchQuery(m,R);case 3:e=n.sent,y((0,i.Z)(e.results)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),h.Am.error(n.t0);case 10:return n.prev=10,z(!1),n.finish(10);case 13:case"end":return n.stop()}}),n,null,[[0,7,10,13]])})));return function(){return n.apply(this,arguments)}}();""!==m.trim()&&(z(!0),n())}),[R,m]);return(0,b.jsxs)(p.x,{children:[(0,b.jsx)(Z,{value:o,onChange:function(n){r({query:n})},onFormSubmit:function(n){d(n)}}),C&&(0,b.jsx)(_.Z,{}),!(null===x||void 0===x||!x.length)&&!C&&(0,b.jsx)(p.x,{as:"ul",pt:4,children:x.map((function(n){return(0,b.jsx)(p.x,{children:(0,b.jsx)(w.Z,{movie:n})},n.id)}))})]})}},2606:function(n,e,t){var r=t(5861),o=t(3144),a=t(5671),i=t(9340),c=t(5716),u=t(7757),s=t.n(u),f=t(4569),l=t.n(f),h=function(n){(0,i.Z)(t,n);var e=(0,c.Z)(t);function t(){var n;(0,a.Z)(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return(n=e.call.apply(e,[this].concat(i)))._URL_ORIGIN="https://api.themoviedb.org/3",n._apiKey="739ddb8e241607cc9ff00a57b23f5e54",n.getTrendingMovies=(0,r.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new URLSearchParams({api_key:n._apiKey}),"/trending/movie/day",e.abrupt("return",l().get("".concat(n._URL_ORIGIN).concat("/trending/movie/day","?").concat(t)).then((function(n){return 200!==n.status?Promise.reject("Error: ".concat(n.message)):0===n.data.total_results?Promise.reject("Sorry, no matches found. Please try again."):n.data})).catch((function(n){return Promise.reject(n)})));case 3:case"end":return e.stop()}}),e)}))),n.getMoviesBySearchQuery=function(){var e=(0,r.Z)(s().mark((function e(t,r){var o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=new URLSearchParams({query:t,page:r,api_key:n._apiKey}),"/search/movie",e.abrupt("return",l().get("".concat(n._URL_ORIGIN).concat("/search/movie","?").concat(o)).then((function(n){return 200!==n.status?Promise.reject("Error: ".concat(n.message)):0===n.data.total_results?Promise.reject("Sorry, no matches found. Please try again."):n.data})).catch((function(n){return Promise.reject(n)})));case 3:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),n.getMovieDetails=function(){var e=(0,r.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new URLSearchParams({api_key:n._apiKey}),"/movie/",e.abrupt("return",l().get("".concat(n._URL_ORIGIN).concat("/movie/","/").concat(t,"?").concat(r)).then((function(n){return 200!==n.status?Promise.reject("Error: ".concat(n.message)):0===n.data.total_results?Promise.reject("Unfortunately, we don't have more details about this movie..."):n.data})).catch((function(n){return Promise.reject(n)})));case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),n}return(0,o.Z)(t)}(t(2791).Component),p=new h;e.Z=p}}]);
//# sourceMappingURL=715.c885d152.chunk.js.map